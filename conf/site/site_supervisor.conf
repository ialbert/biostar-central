[program:engine]

user=www
environment=PATH="/home/www/bin:/export/bin:/home/www/miniconda3/envs/engine/bin:%(ENV_PATH)s",
            HOME="/home/www"
command=/home/www/miniconda3/envs/engine/bin/uwsgi /export/www/biostar-central/conf/run/site_uwsgi.ini
stderr_logfile=/export/www/biostar-central/export/logs/supervisor_stderr.log
stdout_logfile=/export/www/biostar-central/export/logs/supervisor_stdout.log
autostart=true
autorestart=true
stopsignal=QUIT


[program:worker]
environment=PATH="/home/www/bin:/export/bin:/home/www/miniconda3/envs/engine/bin:%(ENV_PATH)s",
            HOME="/home/www",
            DJANGO_SETTINGS_MODULE=conf.run.site_settings
command=/home/www/miniconda3/envs/engine/bin/celery -A biostar worker -l info --maxtasksperchild 1000 --concurrency 3
directory=/home/www/biostar-central
user=www
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/home/www/biostar-central/export/logs/celery-worker.log
stderr_logfile=/home/www/biostar-central/export/logs/celery-worker-error.log

[program:beat]
environment=PATH="/home/www/bin:/export/bin:/home/www/miniconda3/envs/engine/bin:%(ENV_PATH)s",
            HOME="/home/www",
            DJANGO_SETTINGS_MODULE=conf.run.site_settings
command=/home/www/miniconda3/envs/engine/bin/celery -A biostar beat -l info
directory=/home/www/biostar-central
user=www
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/home/www/biostar-central/export/logs/celery-beat.log
stderr_logfile=/home/www/biostar-central/export/logs/celery-beat-error.log
